"use strict";var app=angular.module("Pickie",["ui.router","ngAnimate"]);!function(){var t="./",e=require("fs");e.watch(t,function(){location&&location.reload()})}(),app.controller("CpController",["$scope","$interval","$timeout",function(t,e){var i=require("nw.gui"),n=i.Clipboard.get(),o=localStorage;"undefined"==typeof o.getItem("clips")&&t.clearHistory(),t.clips=JSON.parse(o.getItem("clips"));var c=function(){o.setItem("clips",JSON.stringify(t.clips))},r=function(){var e=t.clips[0],i=n.get("text");0!=i.length&&("undefined"==typeof e||i!=e.text)&&(t.clips.unshift({text:i,id:new Date}),c())},l=function(t){n.set(t,"text")},s=function(){n.set("","text")};e(function(){r()},2e3),t.removeFromList=function(e){t.clips.forEach(function(t,i,n){t==e&&n.splice(i,1)}),c(),e.text==n.get("text")&&s()},t.clearHistory=function(){t.clips=[],o.setItem("clips",JSON.stringify([])),s()},t.copyFromList=function(t){l(t.text)}}]);